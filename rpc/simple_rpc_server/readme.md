## 使用net/rpc 实现一个简单的求矩形面积和周长

### 注意细节

* 结构体大写(可导出,Exportable)
* 函数名大写
* 函数的第一个参数是接受参数,第二个参数是指针类型的返回参数(两者一般使用结构体)
* 函数需要返回error

### 底层原理

* go中的net/rpc 使用gob进行序列化和反序列化
* 使用MUX多路复用,将一个端口处理多个请求
* 默认使用tcp协议

### gob

import encoding/gob

**优势:**

* 高效性:二进制形式
* 直接序列化Go中的各种基本类型以及struct甚至interface
* 反序列化时进行类型匹配
* 循环引用

**劣势:**

* 只支持Go语言
* 没有人眼可读性

|     | gob       | JSON          | XML      | 	Protobuf     |
|-----|-----------|---------------|----------|---------------|
| 效率  | 最高        | 低             | 最低       | 	高            |
| 格式  | 二进制	      | 文本	           | 文本       | 二进制           |
| 灵活性 | 仅支持Go类型   | 	支持任何类型(通过转换) | 	丰富的模式描述 | 	需要先定义 schema |
| 多语言 | 只能在Go中使用	 | 支持多语言	        | 支持多语言    | 	支持多语言        |
| 人性化 | 二进制难阅读    | 方便阅读检验        | 方便阅读 检验	 | 二进制难阅读        |
| 用例	 | Go RPC    | 	跨语言通信        | 	要求严格的标准 | 	跨语言多端系统      |

微服务架构下,一般对内使用RPC,对外使用REST
分布式